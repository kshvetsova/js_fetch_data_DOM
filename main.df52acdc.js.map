{"version":3,"sources":["scripts/main.js"],"names":["BASE_URL","request","url","fetch","then","response","ok","setTimeout","Promise","reject","status","catch","error","console","warn","json","getPhones","getPhonesDetails","id","phoneWithDetails","result","all","map","phone","info","Object","assign","log"],"mappings":";AAAA,aAGA,IAAMA,EAAW,mEACXC,EAAU,SAACC,GACRC,OAAAA,MAASH,GAAAA,OAAAA,GAAWE,OAAAA,IACxBE,KAAK,SAAAC,GAUGA,OATFA,EAASC,IACZC,WAAW,WAETC,QAAQC,OAAUJ,GAAAA,OAAAA,EAASK,SAExBC,MAAM,SAAAC,GAASC,OAAAA,QAAQC,KAAK,SAAUF,MACxC,KAGEP,EAASU,UAGhBC,EAAY,WAAMf,OAAAA,EAAQ,UAC1BgB,EAAmB,SAACC,GAAOjB,OAAAA,EAAYiB,IAAAA,OAAAA,EAApB,WACnBC,EAAmB,WAChBH,OAAAA,IACJZ,KAAK,SAAAgB,GAAUZ,OAAAA,QAAQa,IACtBD,EAAOE,IAAI,SAAAC,GAASN,OAAAA,EAAiBM,EAAML,IACxCd,KAAK,SAAAoB,GAAQC,OAAAA,OAAOC,OAAOF,EAAMD,WAM1CP,IAAYZ,KAAK,SAAAgB,GAAUP,OAAAA,QAAQc,IAAIP,KAEvCH,EAAiB,aAAab,KAAK,SAAAgB,GAAUP,OAAAA,QAAQc,IAAIP,KAEzDD,IAAmBf,KAAK,SAAAgB,GAAUP,OAAAA,QAAQc,IAAIP","file":"main.df52acdc.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\n// eslint-disable-next-line max-len\nconst BASE_URL = 'https://mate-academy.github.io/phone-catalogue-static/api/phones';\nconst request = (url) => {\n  return fetch(`${BASE_URL}${url}`)\n    .then(response => {\n      if (!response.ok) {\n        setTimeout(() => {\n          // eslint-disable-next-line prefer-promise-reject-errors\n          Promise.reject(`${response.status}`)\n            // eslint-disable-next-line no-console\n            .catch(error => console.warn('Error:', error));\n        }, 5000);\n      }\n\n      return response.json();\n    });\n};\nconst getPhones = () => request('.json');\nconst getPhonesDetails = (id) => request(`/${id}.json`);\nconst phoneWithDetails = () => {\n  return getPhones()\n    .then(result => Promise.all(\n      result.map(phone => getPhonesDetails(phone.id)\n        .then(info => Object.assign(info, phone))\n      )\n    ));\n};\n\n// eslint-disable-next-line no-console\ngetPhones().then(result => console.log(result));\n// eslint-disable-next-line no-console\ngetPhonesDetails('sanyo-zio').then(result => console.log(result));\n// eslint-disable-next-line no-console\nphoneWithDetails().then(result => console.log(result));\n"]}